<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport"
     content="width=device-width, initial-scale=1, user-scalable=yes">
     <link rel="stylesheet" type="text/css" href="style.css">
  <title>DJ.1 : Drinks</title>
</head>
<body onresize='resizeChart()'>
    <div class="data-column">
        <iframe id="chart" src="https://script.google.com/macros/s/AKfycbz4jzzH3Y2WL_LmaJZ3XqmHHiHg8AAKnXXXldH9tdJPP64_D2U/exec">
        </iframe>
    </div>
    <div class="down-arrow-container">
        <p><span class="coffee">▼</span></p>
    </div>
    <div id="text-content" class="text-column">
        <h1>I need a drink</h1>
        <p>Between work and leisure, I spend a fair amount of time modifying my energy, attention, and mood with (legal, acceptable) substances. This appears to be a pillar of many adults’ routines.<p>

        <p>Since September 2018, (when I started my first full-time job after graduation,) I've been noting every <span class="coffee">coffee</span> and <span class="wine">alcoholic</span> drink I've had by the hour in which it was mostly consumed.</p>

        <p>(This timing and what amount constitutes "one drink" is fungible. This is soft and round personal data.)</p>

        <p>I wanted to see a heatmapped routine of the ways I push and pull into focus, attention, and candor.</p>

        <h2>How does code display this?</h2>
        <p><em><strong>TL;DR:</strong> D3.js in a Google Apps script combing through a Google Sheet, embedded here with an IFrame.
</em></p>
        <p>This page is written from scratch in simple html, uploaded as a repository to my Github and displayed like this using the Pages feature. The heatmap page sits inside an IFrame on this page. (IFrames, or inline frames, are essentially 'holes' in webpages that display another independent page.)</p>

        <p>The heatmap is being drawn by a web app—a published script attached to a Google Sheets spreadsheet. The spreadsheet is two columns: every hour as a datetime value, and next to it, an <span class="coffee">o</span> if a coffee drink was consumed, an <span class="wine">x</span> if an alcoholic drink was consumed. (Other values are error-coded to display as neon green dots, in case I enter an unrecognized value into that second column, I’ll really know.)</p>

        <p>This is live and ongoing. I still manually mark every drink in the spreadsheet. The dots’ placements are calculated horizontally by hour, and vertically by day since I started tracking. In this one-week view, each week is layered, as each day rolls around each week and overlaps—a textbook example of modular arithmetic intuition.</p>

        <p>The opacity of each dot is 100% divided by the number of weeks since I’ve started tracking, until today. As weeks pass, each drink contributes less and less of a mark, and the aggregate becomes more impressionistic.</p>
        <h2>What did I see new?</h2>

        <p>I most consistently drink <span class="coffee">coffee</span> at 8am on weekdays. (Usually, the first thing I do when I get into work is make a pot for the office.) I usually have <span class="coffee">another</span> in the next two hours, and sometimes a <span class="coffee">pick-up</span> in the early afternoon. I was expecting to see a browner concentration on Mondays, but it looks like I stay pretty consistent. On weekends, I sleep in and often make some at home.</p>

        <p>Friday after-work <span class="wine">happy hours</span> have become a tradition, and it's made its mark. Otherwise I'll have a <span class="wine">drink</span> around 8 or 9 most weeknights.</p>

        <p>I've also made drink choices self-conscious of this project—even if I'm up early, I'll wait 'til 8 to drink <span class="coffee">coffee</span> to keep that neat left edge. Similarly, even if I'm out late, I'll stop <span class="wine">drinking</span> before midnight to prevent rollover. Both these choices, though made in the aesthetic interest of this data visualization, are probably better for my body. (If you look closely, you might see a <span class="wine">beer</span> at 11am on a Friday. I was the best man in a wedding.)</p>

        <p>When I started recording, I was imagining more overlap—an occasional <span class="wine">eye-opener</span> or some <span class="coffee">midnight oil</span>—and the <span class="coffee">coffee</span> and <span class="wine">wine</span> colors would blend into unexpected mixtures. Maybe it's best that my <span class="coffee">pushes</span> and <span class="wine">pulls</span> remain in their expected times of day.</p>
  </div>
  <div class="logo-container">
      <a href="https://cotterkoopman.com/">
          <!-- <img src="assets/ck_logo.svg"> -->
          <svg class="logo" mlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 520 520">
            <defs>
              <style>
                .cls-1,.cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:24px;}.cls-2{stroke-dasharray:0 81.6;}
              </style>
            </defs>
            <title>
              ck_logo
            </title>
            <line class="cls-1" x1="472" y1="382.4" x2="472" y2="382.4"/>
            <line class="cls-2" x1="472" y1="300.8" x2="472" y2="178.4"/>
            <line class="cls-1" x1="472" y1="137.6" x2="472" y2="137.6"/>
            <line class="cls-2" x1="401.3" y1="96.8" x2="295.3" y2="35.6"/>
            <line class="cls-1" x1="260" y1="15.2" x2="260" y2="15.2"/>
            <line class="cls-2" x1="189.3" y1="56" x2="83.3" y2="117.2"/>
            <line class="cls-1" x1="48" y1="137.6" x2="48" y2="137.6"/>
            <line class="cls-2" x1="48" y1="219.2" x2="48" y2="341.6"/>
            <line class="cls-1" x1="48" y1="382.4" x2="48" y2="382.4"/>
            <line class="cls-2" x1="118.6" y1="423.2" x2="224.6" y2="484.4"/>
            <line class="cls-1" x1="260" y1="504.8" x2="260" y2="504.8"/>
            <line class="cls-2" x1="330.6" y1="464" x2="436.6" y2="402.8"/>
            <line class="cls-1" x1="260" y1="15.2" x2="260" y2="504.8"/>
            <line class="cls-1" x1="472" y1="137.6" x2="260" y2="260"/>
            <line class="cls-1" x1="472" y1="382.4" x2="260" y2="260"/>
            <polyline class="cls-1" points="260 137.6 154 198.8 154 321.2 260 382.4"/>
          </svg>
      </a>
  </div>
</body>
<script>
var myIframe=document.getElementById('chart');
    function resizeChart() {
        console.log("resizeChart called")
        myIframe.src=myIframe.src;
    }
</script>
</html>
