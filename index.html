<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport"
     content="width=device-width, initial-scale=1, user-scalable=yes">
     <link rel="stylesheet" type="text/css" href="style.css">
  <title>DJ.1 : Drinks</title>
</head>
<body onresize='resizeChart()'>
    <div class="text-column">
        <h1>I need a drink</h1>
        <p>Between work and leisure, I spend a fair amount of time modifying my energy, attention, and mood with (legal, acceptable) substances. This appears to be a pillar of many adults’ routines.<p>

        <p>Since September 2018, (when I started my first full-time job after graduation,) I've been noting every <span class="coffee">coffee</span> and <span class="wine">alcoholic</span> drink I've had by the hour in which it was mostly consumed.</p>

        <p>(This timing and what amount constitutes "one drink" is fungible. This is soft and round personal data.)</p>

        <p>I wanted to see a heatmapped routine of the ways I push and pull into focus, attention, and candor.</p>
    </div>
    <div class="data-column">
        <div class="scale">
        </div>
        <iframe id="chart" src="https://script.google.com/macros/s/AKfycby-gZzrza2cZoUbB9ISoK8paEnPOvIxJNfJx_WyzaU/exec">
        </iframe>
    </div>
    <div class="text-column">
        <h2>How's this work?</h2>
        <p><em><strong>TL;DR:</strong> D3.js in a Google Apps script combing through a Google Sheet, embedded here with an IFrame.
</em></p>
        <p>This page is written from scratch in simple html, uploaded as a repository to my Github and displayed like this using the Pages feature. The heatmap page sits inside an IFrame on this page. (IFrames, or inline frames, essentially embed another separate html document in this one.)</p>

        <p>The heatmap is being drawn by a web app—a published script attached to a Google Sheets spreadsheet. (This web app is what the IFrame is embedding.) The spreadsheet is two columns: every hour as a datetime value, and next to it, an “o” if a coffee drink was consumed, an “x” if an alcoholic drink was consumed. (Other values are error-coded to display as neon green dots, in case I enter an unrecognized value into that second column, I’ll really know.)</p>

        <p>This is live and ongoing. I still manually mark every drink in the spreadsheet. The dots’ placements are calculated horizontally by hour, vertically by day since I started tracking. In this one-week view, each week is layered, each day rolls around and overlaps—a textbook example of modular arithmetic intuition.</p>

        <p>The opacity of each dot is divided by the number of weeks since I’ve started tracking, until today. As weeks pass, each drink contributes less and less of a mark, and the aggregate becomes more impressionistic.</p>
        <h2>What'd I see new?</h2>
        <p>(If you look closely, you'll see I had a beer at 11am on a Friday once. I was the best man in a wedding.)</p>
  </div>
  <div class="logo-container">
      <a href="https://cotterkoopman.com/">
          <!-- <img src="assets/ck_logo.svg"> -->
          <svg xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 520 520">
            <defs>
              <style>
                .cls-1,.cls-2{fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:24px;}.cls-2{stroke-dasharray:0 81.6;}
              </style>
            </defs>
            <title>
              ck_logo
            </title>
            <line class="cls-1" x1="472" y1="382.4" x2="472" y2="382.4"/>
            <line class="cls-2" x1="472" y1="300.8" x2="472" y2="178.4"/>
            <line class="cls-1" x1="472" y1="137.6" x2="472" y2="137.6"/>
            <line class="cls-2" x1="401.3" y1="96.8" x2="295.3" y2="35.6"/>
            <line class="cls-1" x1="260" y1="15.2" x2="260" y2="15.2"/>
            <line class="cls-2" x1="189.3" y1="56" x2="83.3" y2="117.2"/>
            <line class="cls-1" x1="48" y1="137.6" x2="48" y2="137.6"/>
            <line class="cls-2" x1="48" y1="219.2" x2="48" y2="341.6"/>
            <line class="cls-1" x1="48" y1="382.4" x2="48" y2="382.4"/>
            <line class="cls-2" x1="118.6" y1="423.2" x2="224.6" y2="484.4"/>
            <line class="cls-1" x1="260" y1="504.8" x2="260" y2="504.8"/>
            <line class="cls-2" x1="330.6" y1="464" x2="436.6" y2="402.8"/>
            <line class="cls-1" x1="260" y1="15.2" x2="260" y2="504.8"/>
            <line class="cls-1" x1="472" y1="137.6" x2="260" y2="260"/>
            <line class="cls-1" x1="472" y1="382.4" x2="260" y2="260"/>
            <polyline class="cls-1" points="260 137.6 154 198.8 154 321.2 260 382.4"/>
          </svg>
      </a>
  </div>
</body>
<script>
var myIframe=document.getElementById('chart');
    function resizeChart() {
        console.log("resizeChart called")
        myIframe.src=myIframe.src;
    }
</script>
</html>
